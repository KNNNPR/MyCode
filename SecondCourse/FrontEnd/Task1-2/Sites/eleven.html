<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Корзина токенов</title>
  <style>
    /* Стили для отображения товаров */
    .token {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 5px;
    }
  </style>
</head>
<body>
  <h1>Корзина токенов</h1>
  
  <button onclick="добавитьТокен()">Добавить случайный токен</button>
  <button onclick="очиститьКорзину()">Очистить корзину</button>
  <button onclick="сортировкаПоВозрастанию()">Сортировать по цене (возрастание)</button>
  <button onclick="сортировкаПоУбыванию()">Сортировать по цене (убывание)</button>
  <button onclick="фильтрПоЦене()">Фильтровать по цене</button>
  <button onclick="отменитьСортировку()">Отменить сортировку</button>
  
  <div id="корзина"></div>
  
  <script>
    let корзина = [];
    let исходныйМассив = [];

    function добавитьТокен() {
      const токен = {
        название: `Токен ${Math.floor(Math.random() * 1000)}`,
        цена: Math.floor(Math.random() * 100)
      };
      корзина.push(токен);
      обновитьКорзину();
    }

    function очиститьКорзину() {
      корзина = [];
      обновитьКорзину();
    }

    function сортировкаПоВозрастанию() {
      корзина.sort((a, b) => a.цена - b.цена);
      обновитьКорзину();
    }

    function сортировкаПоУбыванию() {
      корзина.sort((a, b) => b.цена - a.цена);
      обновитьКорзину();
    }

    function фильтрПоЦене() {
      исходныйМассив = [...корзина]; // Сохраняем исходный массив перед фильтрацией
      const a = parseFloat(prompt('Введите минимальную цену:', '0'));
      const b = parseFloat(prompt('Введите максимальную цену:', '100'));

      if (!isNaN(a) && !isNaN(b)) {
        const отфильтрованныеТокены = корзина.filter(токен => токен.цена > a && токен.цена < b);
        const корзинаHTML = отфильтрованныеТокены.map(токен => `<div class="token">${токен.название} - ${токен.цена}</div>`).join('');
        document.getElementById('корзина').innerHTML = корзинаHTML;
        корзина = отфильтрованныеТокены;
      } else {
        alert('Пожалуйста, введите числовые значения для фильтрации.');
      }
    }

    function отменитьСортировку() {
      корзина = [...исходныйМассив]; // Восстанавливаем исходный массив
      обновитьКорзину();
    }

    function обновитьКорзину() {
      const корзинаHTML = корзина.map(токен => `<div class="token">${токен.название} - ${токен.цена}</div>`).join('');
      document.getElementById('корзина').innerHTML = корзинаHTML;
    }
  </script>
</body>
</html>
